!!! **** RedirectMatch 301 ^/$ /inicio   

        data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAA




<input
  class="form-check-input"
  name="p_activo"
  type="checkbox"
  id="activeTrue"
  value="1"
  {{ isset($producto->p_activo) && $producto->p_activo ? 'checked' : '' }}
>



   LogicException 

  Unable to prepare route [usuarios] for serialization. Another route has already been assigned name [usuarios.index].


// Главная страница без middleware
Route::get('/', function () {
    if (Auth::check()) {
        return redirect()->route('home');
    }
    return redirect()->route('login');
})->name('main');

alumno@alumno-vbox:~/Desktop/Almacen/almacen$ php artisan route:list
+--------+-----------+-------------------------------------+---------------------+------------------------------------------------------------------------+---------------------------------------------+
| Domain | Method    | URI                                 | Name                | Action                                                                 | Middleware                                  |
+--------+-----------+-------------------------------------+---------------------+------------------------------------------------------------------------+---------------------------------------------+
|        | GET|HEAD  | /                                   | main                | Closure                                                                | web                                         |
|        | GET|HEAD  | api/categorias 
|        | GET|HEAD  | home                                | home                | App\Http\Controllers\HomeController@index                              | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\Authenticate            |
|        | POST      | login                               |                     | App\Http\Controllers\Auth\LoginController@login                        | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\RedirectIfAuthenticated |
|        | GET|HEAD  | login                               | login               | App\Http\Controllers\Auth\LoginController@showLoginForm                | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\RedirectIfAuthenticated |
|        | POST      | logout                              | logout              | App\Http\Controllers\Auth\LoginController@logout                       | web                                         |
|        | GET|HEAD  | password/confirm                    | password.confirm    | App\Http\Controllers\Auth\ConfirmPasswordController@showConfirmForm    | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\Authenticate            |
|        | POST      | password/confirm                    |                     | App\Http\Controllers\Auth\ConfirmPasswordController@confirm            | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\Authenticate            |
|        | POST      | password/email                      | password.email      | App\Http\Controllers\Auth\ForgotPasswordController@sendResetLinkEmail  | web                                         |
|        | POST      | password/reset                      | password.update     | App\Http\Controllers\Auth\ResetPasswordController@reset                | web                                         |
|        | GET|HEAD  | password/reset                      | password.request    | App\Http\Controllers\Auth\ForgotPasswordController@showLinkRequestForm | web                                         |
|        | GET|HEAD  | password/reset/{token}              | password.reset      | App\Http\Controllers\Auth\ResetPasswordController@showResetForm        | web                                         |
|        | POST      | product                             | productos.store     | App\Http\Controllers\ProductoController@store                          | web                                         |
|        | GET|HEAD  | product                             | productos.index     | App\Http\Controllers\ProductoController@index                          | web                                         |
|        | GET|HEAD  | product/create                      | productos.create    | App\Http\Controllers\ProductoController@create                         | web                                         |
|        | POST      | product/find                        | productos.find      | App\Http\Controllers\ProductoController@find                           | web                                         |
|        | DELETE    | product/{product}                   | productos.destroy   | App\Http\Controllers\ProductoController@destroy                        | web                                         |
|        | PUT|PATCH | product/{product}                   | productos.update    | App\Http\Controllers\ProductoController@update                         | web                                         |
|        | GET|HEAD  | product/{product}                   | productos.show      | App\Http\Controllers\ProductoController@show                           | web                                         |
|        | GET|HEAD  | product/{product}/edit              | productos.edit      | App\Http\Controllers\ProductoController@edit                           | web                                         |
|        | POST      | register                            |                     | App\Http\Controllers\Auth\RegisterController@register                  | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\RedirectIfAuthenticated |
|        | GET|HEAD  | register                            | register            | App\Http\Controllers\Auth\RegisterController@showRegistrationForm      | web                                         |
|        |           |                                     |                     |                                                                        | App\Http\Middleware\RedirectIfAuthenticated |
|        | GET|HEAD  | sanctum/csrf-cookie                 |                     | Laravel\Sanctum\Http\Controllers\CsrfCookieController@show             | web                                         |
|        | POST      | usuarios                            | usuarios.store      | App\Http\Controllers\UsuarioController@store                           | web                                         |
|        | GET|HEAD  | usuarios                            | usuarios.index      | App\Http\Controllers\UsuarioController@index                           | web                                         |
|        | GET|HEAD  | usuarios/create                     | usuarios.create     | App\Http\Controllers\UsuarioController@create                          | web                                         |
|        | DELETE    | usuarios/{usuario}                  | usuarios.destroy    | App\Http\Controllers\UsuarioController@destroy                         | web                                         |
|        | PUT|PATCH | usuarios/{usuario}                  | usuarios.update     | App\Http\Controllers\UsuarioController@update                          | web                                         |
|        | GET|HEAD  | usuarios/{usuario}                  | usuarios.show       | App\Http\Controllers\UsuarioController@show                            | web                                         |
|        | GET|HEAD  | usuarios/{usuario}/edit             | usuarios.edit       | App\Http\Controllers\UsuarioController@edit                            | web                                         |
+--------+-----------+-------------------------------------+---------------------+------------------------------------------------------------------------+---------------------------------------------+





nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] InnoDB: >
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [Note] InnoDB: S>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Plugin '>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [Note] Plugin 'F>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Could no>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Failed t>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Aborting
nov 24 14:42:41 debian systemd[1]: mariadb.service: Main process exited, code=e>
nov 24 14:42:41 debian systemd[1]: mariadb.service: Failed with result 'exit-co>
nov 24 14:42:41 debian systemd[1]: Failed to start mariadb.service - MariaDB 10>
lines 1-18/18 (END)

Failed to stop mysql.service: Unit mysql.service not loaded.
invoke-rc.d: initscript mysql, action "stop" failed.
Attempt to stop MariaDB/MySQL server returned exitcode 5
There is a MariaDB/MySQL server running, but we failed in our attempts to stop i
t.
Stop it yourself and try again!
dpkg: error al procesar el archivo /var/cache/apt/archives/mariadb-server_1%3a10
.11.6-0+deb12u1_amd64.deb (--unpack):
 el subproceso nuevo paquete mariadb-server script pre-installation devolvió el 
código de salida de error 1
Se encontraron errores al procesar:
 /var/cache/apt/archives/mariadb-server_1%3a10.11.6-0+deb12u1_amd64.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)




sudo apt remove --purge mariadb-server mariadb-client
Установите MariaDB заново:
bash
Копировать код
sudo apt install mariadb-server mariadb-client
После установки попробуйте запустить MariaDB:
bash
Копировать код
sudo systemctl start mariadb
2. Установите зависимости
VS Code требует несколько зависимостей. Установите их:

bash
Копировать код
sudo apt install software-properties-common apt-transport-https wget
3. Добавьте репозиторий Microsoft
Загрузите и установите ключ для репозитория Microsoft:

bash
Копировать код
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | sudo gpg --dearmor > /usr/share/keyrings/microsoft-archive-keyring.gpg
Теперь добавьте репозиторий Microsoft в список источников пакетов:

bash
Копировать код
echo "deb [signed-by=/usr/share/keyrings/microsoft-archive-keyring.gpg] https://packages.microsoft.com/repos/vscode stable main" | sudo tee /etc/apt/sources.list.d/vscode.list
4. Обновите индекс пакетов
После добавления репозитория обновите индекс пакетов:

bash
Копировать код
sudo apt update
5. Установите Visual Studio Code
Теперь установите Visual Studio Code:

bash
Копировать код
sudo apt install code
6. Запуск Visual Studio Code
После установки вы можете запустить VS Code из терминала, набрав:

bash
Копировать код
code
Или найдите его в меню приложений.
bash
Копировать код
sudo systemctl stop mariadb
2.2. Запустите MySQL/MariaDB в безопасном режиме
Запустите MariaDB без проверки паролей и с пропуском всех привилегий:

bash
Копировать код
sudo mysqld_safe --skip-grant-tables &
Команда запустит MariaDB, но без механизма аутентификации, что позволит войти в систему без пароля.

2.3. Вход в MariaDB/MySQL
Теперь войдите в MariaDB:

bash
Копировать код
sudo mysql -u root
Вы окажетесь в консоли MariaDB.

2.4. Измените пароль для пользователя root
Теперь вы можете изменить пароль для пользователя root. Введите следующие команды:

sql
Копировать код
USE mysql;
UPDATE user SET password=PASSWORD('debian') WHERE User='root';
FLUSH PRIVILEGES;
EXIT;
Замените new_password на новый пароль, который вы хотите установить.

2.5. Перезапустите MariaDB
Теперь перезапустите службу MariaDB, чтобы изменения вступили в силу:

bash
Копировать код
sudo systemctl start mariadb
2.6. Войдите в phpMyAdmin
Теперь вы можете войти в phpMyAdmin, используя логин root и новый пароль, который вы только что установили.


    private function updateMercancias ($mercancias, $mercanciasViejo, $id, $tipoFactura) {
            foreach ($mercancias as $mercancia) {
                if (isset($mercancia['m_id_productos']) && isset($mercancia['m_cantidad_pedida'])) {

                    Mercancia::create([
                        'm_id_facturas' => $id,
                        'm_id_productos' => $mercancia['m_id_productos'],
                        'm_cantidad_pedida' => $mercancia['m_cantidad_pedida'],
                        'm_suma_pedida' => $mercancia['m_suma_pedida'],
                    ]);

                    // Anadimos datos de tabala de producto
                    $producto = Producto::findOrFail($mercancia['m_id_productos']);
                    $restosViejos = isset($mercancia['id']) ? $this -> getCantidadPedidaById($mercanciasViejo, $mercancia['id']) : 0;

                    if ($tipoFactura == 0) {  // Si factura entrada anadimos campo producto enviado
                        $producto->decrement('p_cantidad_entrega',$restosViejos);
                        $producto->increment('p_cantidad_entrega',$mercancia['m_cantidad_pedida']);
                    } else {  // Si factura salida anadimos campo producto reservado y desminuir campo producto en almacen
                        $producto->increment('p_cantidad_almacen', $restosViejos);
                        $producto->decrement('p_cantidad_reservado',$restosViejos);
                        $producto->decrement('p_cantidad_almacen', $mercancia['m_cantidad_pedida']);
                        $producto->increment('p_cantidad_reservado',$mercancia['m_cantidad_pedida']);
                    }

                } else {
                    // Si datos incomplited
                    return response()->json(['error' => 'Datos incomplited'], 400);
                }
            }
    }


    public function aceptar(Request $request, $id)
    {
        try {

            DB::beginTransaction();  // Empesar transaction

            $data = $request->json()->all();
            $date = Carbon::now ();

            if (isset($data['f_suma'])) {
                $sumaFactura = $data['f_suma'];
            } else {
                $sumaFactura = 0;
            }

            if (isset($data['aceptarFactura'])) {
                $f_aceptado = $data['aceptarFactura'];
            } else {
                $f_aceptado = 0;
            }

            if (isset($data['usuario'])) {
                $f_id_responsable = $data['usuario'];
            } else {
                $f_id_responsable = 1;
            }

            $facturaControlado = Factura::findOrFail($id);  // renovar datos de la factura
            $tipoFactura = $facturaControlado -> f_tipo;
                $facturaControlado->update(['f_suma_tramitacion' => $sumaFactura,
                                            'f_aceptado'=> $f_aceptado,
                                            'f_fecha_tramitacion' => $date,
                                            'f_id_responsable' => $f_id_responsable]);

            // Grabar datos de nuevo

                if (isset($data['mercancias']) && is_array($data['mercancias'])) {
                    $mercancias = $data['mercancias'];

                    foreach ($mercancias as &$mercancia) {

                        if (isset($mercancia['id'])) {
                            Mercancia::where ('id', $mercancia['id'])-> update([
                                'm_cantidad_recogida' => $mercancia['m_cantidad_recogida'],
                                'm_suma_recogida' => $mercancia['m_suma_recogida'],
                                'm_aceptado' => $mercancia['m_aceptado'],
                            ]);

                            //  Corregir datos de restos en tabla productos

                            $producto = Producto::findOrFail($mercancia['m_id_productos']);

                            if ($tipoFactura == 0) {  // Si factura entrada anadimos campo producto enviado
                                $producto->decrement('p_cantidad_entrega',$mercancia['m_cantidad_recogida']);
                                $producto->increment('p_cantidad_almacen',$mercancia['m_cantidad_recogida']);
                            } else {  // Si factura salida anadimos campo producto reservado y desminuir campo producto en almacen
                                $producto->decrement('p_cantidad_reservado', $mercancia['m_cantidad_recogida']);
                                $producto->increment('p_cantidad_enviado',$mercancia['m_cantidad_recogida']);
                            }

                            // Logica de lugar en almacen     **************************
                            if ($tipoFactura == 0) {  // Si factura entrada
                                $resto = $mercancia['m_cantidad_recogida']; // Cuantos unidades necesito colocar
                                $full = $producto['p_cantidad_palet'];  // Cuantos unidades en palet

                                do {
                                    $lugar = Lugar::where('lugar_producto',$mercancia['m_id_productos']) ->
                                                    where('lugar_cantidad', '<', $full) -> first ();  // buscamos lugar con producto

                                    if (!$lugar) { // si no hay lugares con producto
                                        $lugar = $this -> buscarLugarNuevo();   // buscamos lugar nuevo
                                        $lugar -> lugar_producto = $mercancia['m_id_productos'];

                                        if ($full > $resto) {
                                            $lugar -> lugar_cantidad = $resto;
                                            $lugar -> lugar_llenado = $resto/$producto->p_cantidad_palet;
                                            $resto = 0;
                                        } else {
                                            $lugar -> lugar_cantidad = $full;
                                            $lugar -> lugar_llenado = 100;
                                            $resto -= $full;
                                        }

                                        $lugar -> save();
                                    } else {   // si hay celda desponible
                                        $restoEnCelda = $full - $lugar ->lugar_cantidad; // Cantar cuanto colocamos en esta celda

                                        if ($restoEnCelda > $mercancia['m_cantidad_recogida']) {
                                            $lugar ->lugar_cantidad += $mercancia['m_cantidad_recogida'];  // Colocamos producto a celda
                                            $lugar -> lugar_llenado = ($lugar ->lugar_cantidad/$producto->p_cantidad_palet)*100;  // Cambiar lli¡enado de la celda

                                            $resto = 0; //  Poner a cero el resto
                                        } else {
                                            Log::info('$restoEnCelda < $mercancia');
                                            $lugar ->lugar_cantidad += $restoEnCelda;  // Colocamos producto a celda
                                            $lugar -> lugar_llenado = 100; // La Celda es llena
                                            $resto -= $restoEnCelda;  // Diminuir cantidad de factura
                                        }
                                        $lugar -> save();
                                    }

                                } while ($resto > 0);

                            $mercancia['m_lugares'] = Lugar::where ('lugar_producto',$mercancia['m_id_productos']) -> get ();


                            } else {  // Si factura salida anadimos campo producto reservado y desminuir campo producto en almacen

                                $resto = $mercancia['m_cantidad_recogida']; // Cuantos unidades necesito colocar
                                $full = $producto['p_cantidad_palet'];  // Cuantos unidades en palet

                                do {
                                    $lugar = Lugar::where('lugar_producto',$mercancia['m_id_productos']) -> first ();  // buscamos lugar con producto

                                    if (!$lugar) { // si no hay lugares con producto
                                        $resto = 0;

                                    } else {   // si hay celda con mercancia

                                        if ($lugar -> lugar_cantidad > $resto) {   // Si en la selda cantidad mas que necesito
                                            $lugar ->lugar_cantidad -= $resto;  // disminuir producto a celda
                                            $lugar -> lugar_llenado = ($lugar ->lugar_cantidad/$producto->p_cantidad_palet)*100;  // Cambiar lli¡enado de la celda

                                            $resto = 0; //  Poner a cero el resto
                                        } else {
                                            $resto -= $lugar ->lugar_cantidad;  // Diminuir cantidad el celda
                                            $lugar -> lugar_cantidad = 0;  // Poner a cero el resto en la celda
                                            $lugar -> lugar_llenado = 0; // Poner a cero llenado en la celda
                                            $lugar -> lugar_producto = 0; //  borramos info sobre producto
                                        }
                                        $lugar -> save();
                                    }

                                } while ($resto > 0);

                            }

                        } else {
                            // Обработка ошибки, если данные продукта неполные
                            return response()->json(['error' => 'Данные продукта неполные'], 400);
                        }
                    }


                } else {
                    // Обработка ошибки, если продукты не найдены
                        return response()->json(['error' => 'Продукты не найдены'], 400);
                }

                if ($f_aceptado) {  // si factura esta aceptado - anadimos estadisticas
                    $this -> estadisticas ($id, $facturaControlado, $data['mercancias']);
                }

                DB::commit();

            } catch (\Exception $exception) {
                return $exception -> getMessage();
            }

            return $mercancias;
            DB::rollBack();
            Log::info ($mercancias);
    }
private function estadisticas ($idFactura, $factura, $mercancias) {

    try {
        $date = Carbon::now ();
        $yesterday = Carbon::yesterday ();
        $id = $date->format('dmY');
        $estadistica = Estadistica::where('id', $id) -> first();

        $newDay = !$estadistica;  // El dia nueva o no

        if (!$estadistica) { $estadistica = new Estadistica; }   // Si no hay estadistica creamos objeto nuevo

        $estadisticaYesterday = null;   // Buscamos estadistica periodo anterior
        while (!$estadisticaYesterday && $yesterday->lt($date)) {
            $idYesterday = $yesterday->format('dmY');
            $estadisticaYesterday = Estadistica::where('id', $idYesterday)->first();
            if (!$estadisticaYesterday) {
                $yesterday->subDay();
            }
        }

        $estadisticaNew = new Estadistica ();
        $estadisticaNew->e_volumen_restos = 0;
        $estadisticaNew->e_suma_restos = 0;
        $estadisticaNew->e_suma_ventas_hoy = 0;
        $estadisticaNew->e_beneficios_hoy = 0;

        if ($factura -> f_tipo) {   // Si es factura venta
            foreach ($mercancias as $mercancia) {
                $producto = Producto::findOrFail($mercancia['m_id_productos']);
                $e_volumen_restos = ($producto->p_ancho*$producto->p_altura*$producto->p_longitud)/1000000000;
                $e_suma_restos = $mercancia ['m_suma_recogida'];
                $e_beneficios_hoy = ($producto->p_precio_venta-$producto->p_precio_compra)*$mercancia['m_cantidad_recogida'];

                $estadisticaNew -> e_volumen_restos += $e_volumen_restos;
                $estadisticaNew -> e_suma_restos += $e_suma_restos;
                $estadisticaNew -> e_suma_ventas_hoy += $e_suma_restos;
                $estadisticaNew -> e_beneficios_hoy += $e_beneficios_hoy;
            }

            $estadistica -> id = $id;
            $estadistica -> e_fecha = $date;
            log::info($estadisticaNew);
            if ($newDay) {
                $estadistica -> e_volumen_restos = $estadisticaYesterday -> e_volumen_restos - $estadisticaNew -> e_volumen_restos;
                $estadistica -> e_suma_restos = $estadisticaYesterday ->e_suma_restos - $estadisticaNew -> e_suma_restos;
                $estadistica -> e_suma_ventas_hoy = $estadisticaNew -> e_suma_ventas_hoy;
                $estadistica -> e_suma_compras_hoy = 0;
                $estadistica -> e_beneficios_hoy = $estadisticaNew -> e_beneficios_hoy;
            } else {
                $estadistica -> increment ('e_suma_ventas_hoy', $estadisticaNew -> e_suma_ventas_hoy);
                $estadistica -> decrement ('e_volumen_restos', $estadisticaNew -> e_volumen_restos);
                $estadistica -> decrement ('e_suma_restos', $estadisticaNew -> e_suma_restos);
                $estadistica -> increment ('e_beneficios_hoy', $estadisticaNew -> e_beneficios_hoy);
            }

            if ($date->month == $yesterday->month && $newDay) {
                $estadistica -> e_suma_ventas_mes = $estadisticaYesterday->e_suma_ventas_mes + $estadisticaNew -> e_suma_ventas_hoy;
                $estadistica -> e_beneficios_mes = $estadisticaYesterday->e_beneficios_mes + $estadisticaNew -> e_beneficios_hoy;
                $estadistica -> e_suma_compras_mes = $estadisticaYesterday->e_suma_compras_mes;
            } else if ($date->month !== $yesterday->month && $newDay) {
                $estadistica -> e_suma_ventas_mes = $estadisticaNew -> e_suma_ventas_hoy;
                $estadistica -> e_beneficios_mes = $estadisticaNew -> e_beneficios_hoy;
                $estadistica -> e_suma_compras_mes = 0;
            } else  {
                $estadistica -> increment ('e_suma_ventas_mes',  $estadisticaNew -> e_suma_ventas_hoy);
                $estadistica -> increment ('e_beneficios_mes', $estadisticaNew -> e_beneficios_hoy);
            }

            log::info($estadistica);
            $estadistica ->save();

        } else {   // Si es factura compra
            foreach ($mercancias as $mercancia) {

                $producto = Producto::findOrFail($mercancia['m_id_productos']);
                $e_volumen_restos = ($producto->p_ancho*$producto->p_altura*$producto->p_longitud)/1000000000;
                $e_suma_restos = $mercancia['m_suma_recogida'];

                $estadisticaNew -> e_volumen_restos += $e_volumen_restos;
                $estadisticaNew -> e_suma_restos += $e_suma_restos;
                $estadisticaNew -> e_suma_compras_hoy += $e_suma_restos;
            }

            $estadistica -> id = $id;
            $estadistica -> e_fecha = $date;
            if ($newDay) {
                $estadistica -> e_volumen_restos = $estadisticaYesterday -> e_volumen_restos + $estadisticaNew -> e_volumen_restos;
                $estadistica -> e_suma_restos = $estadisticaYesterday ->e_suma_restos +  $estadisticaNew -> e_suma_restos;
                $estadistica -> e_suma_compras_hoy = $estadisticaNew -> e_suma_compras_hoy;
                $estadistica -> e_suma_ventas_hoy = 0;
                $estadistica -> e_beneficios_hoy = 0;
            } else {
                $estadistica -> increment ('e_suma_compras_hoy', $estadisticaNew -> e_suma_compras_hoy);
                $estadistica -> increment ('e_volumen_restos', $estadisticaNew -> e_volumen_restos);
                $estadistica -> increment ('e_suma_restos', $estadisticaNew -> e_suma_restos);
                $estadistica -> e_beneficios_hoy = $estadistica -> e_beneficios_hoy;
            }

            if ($date->month == $yesterday->month && $newDay) {
                $estadistica -> e_suma_compras_mes = $estadisticaYesterday->e_suma_compras_mes + $estadisticaNew -> e_suma_compras_hoy;
                $estadistica -> e_suma_ventas_mes = $estadisticaYesterday->e_suma_ventas_mes;
                $estadistica -> e_beneficios_mes = $estadisticaYesterday-> e_beneficios_mes;
            } else if ($date->month !== $yesterday->month && $newDay) {
                $estadistica -> e_suma_compras_mes = $estadisticaNew -> e_suma_compras_hoy;
                $estadistica -> e_suma_ventas_mes = 0;
                $estadistica -> e_beneficios_mes =0;
            } else  {
                $estadistica -> increment ('e_suma_compras_mes',  $estadisticaNew -> e_suma_compras_hoy);
                $estadistica -> e_suma_ventas_mes = $estadistica -> e_suma_ventas_mes;
                $estadistica -> e_beneficios_mes = $estadistica -> e_beneficios_mes;
            }
            log::info ($estadistica);
            $estadistica ->save();

        }

    } catch (\Exception $exception) {

        Log::info($exception);
        return $exception -> getMessage();
    }
    }
