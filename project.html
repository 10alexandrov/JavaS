[Thu Nov 21 22:19:55.267565 2024] [mpm_event:notice] [pid 749:tid 749] AH00493: SIGUSR1 received.  Doing graceful restart
[Thu Nov 21 22:19:55.296844 2024] [ssl:warn] [pid 749:tid 749] AH01906: despliegue-apache:443:0 server certificate is a CA certificate (BasicConstraints: CA == TRUE !?)
[Thu Nov 21 22:19:55.296880 2024] [ssl:warn] [pid 749:tid 749] AH01909: despliegue-apache:443:0 server certificate does NOT include an ID which matches the server name
[Thu Nov 21 22:19:55.300357 2024] [mpm_event:notice] [pid 749:tid 749] AH00489: Apache/2.4.62 (Debian) OpenSSL/3.0.15 configured -- resuming normal operations
[Thu Nov 21 22:19:55.300381 2024] [core:notice] [pid 749:tid 749] AH00094: Command line: '/usr/sbin/apache2'
[Thu Nov 21 22:24:58.663129 2024] [mpm_event:notice] [pid 749:tid 749] AH00493: SIGUSR1 received.  Doing graceful restart
[Thu Nov 21 22:24:58.684484 2024] [ssl:warn] [pid 749:tid 749] AH01906: despliegue-apache:443:0 server certificate is a CA certificate (BasicConstraints: CA == TRUE !?)
[Thu Nov 21 22:24:58.684528 2024] [ssl:warn] [pid 749:tid 749] AH01909: despliegue-apache:443:0 server certificate does NOT include an ID which matches the server name
[Thu Nov 21 22:24:58.685367 2024] [mpm_event:notice] [pid 749:tid 749] AH00489: Apache/2.4.62 (Debian) OpenSSL/3.0.15 configured -- resuming normal operations
[Thu Nov 21 22:24:58.685379 2024] [core:notice] [pid 749:tid 749] AH00094: Command line: '/usr/sbin/apache2'







public function update(Request $request, Machine $machine)
    {

        dd ($request);

        $request->validate([
            'name' => ['required'],
            'alias' => ['required'],
            'model' => ['required'],
            'codigo' => ['required', 'regex:/^[A-Za-z0-9]{3}$/'],
            'serie' => ['required', 'regex:/^\d{2}( [A-Za-z]|[A-Za-z]{2})$/'],
            'numero' => ['required', 'digits:6'],
            //'local' => ['required'],
        ], [
            'name.required' => 'El nombre de la máquina es obligatorio.',
            'alias.required' => 'El alias de la máquina es obligatorio.',
            'model.required' => 'El modelo de la máquina es obligatorio.',
            'codigo.required' => 'El código de la máquina es obligatorio.',
            'codigo.regex' => 'El código debe ser una cadena de exactamente 3 caracteres alfanuméricos.',
            'serie.required' => 'La serie de la máquina es obligatoria.',
            'serie.regex' => 'La serie debe ser una cadena de 4 caracteres, con los primeros 2 siendo números y los últimos 2 siendo dos letras o un espacio seguido de una letra.',
            'numero.required' => 'El número de la máquina es obligatorio.',
            'numero.digits' => 'El número debe tener exactamente 6 dígitos.',
            //'local.required' => 'El local de la máquina es obligatorio.',
        ]);

        $local = explode(":", $request->local);
        $identificador = $request->model . ':' . $request->codigo . ':' . $request->serie . ':' . $request->numero;

        $machine->identificador = $identificador;
        $machine->name = $request->name;
        $machine->alias = $request->alias;

        $machine->local_id = 1;
        $machine->bar_id = 1;
        $machine->delegation_id = $request->delegation_id;

        $machine->timestamps = false;

        $machine->save();
        return redirect()->route('machines.index', $request->delegation_id);
    }
