[2024-11-26 22:20:01] local.ERROR: Lcobucci\JWT\Signer\Hmac::doVerify(): Argument #3 ($key) must be of type Lcobucci\JWT\Signer\Key, null given, called in /var/www/almacen/backend/vendor/lcobucci/jwt/src/Signer/BaseSigner.php on line 44 {"exception":"[object] (TypeError(code: 0): Lcobucci\\JWT\\Signer\\Hmac::doVerify(): Argument #3 ($key) must be of type Lcobucci\\JWT\\Signer\\Key, null given, called in /var/www/almacen/backend/vendor/lcobucci/jwt/src/Signer/BaseSigner.php on line 44 at /var/www/almacen/backend/vendor/lcobucci/jwt/src/Signer/Hmac.php:29)
[stacktrace]
#0 /var/www/almacen/backend/vendor/lcobucci/jwt/src/Signer/BaseSigner.php(44): Lcobucci\\JWT\\Signer\\Hmac->doVerify()
#1 /var/www/almacen/backend/vendor/lcobucci/jwt/src/Signature.php(49): Lcobucci\\JWT\\Signer\\BaseSigner->verify()
#2 /var/www/almacen/backend/vendor/lcobucci/jwt/src/Token.php(202): Lcobucci\\JWT\\Signature->verify()
#3 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/Providers/JWT/Lcobucci.php(136): Lcobucci\\JWT\\Token->verify()
#4 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/Manager.php(101): Tymon\\JWTAuth\\Providers\\JWT\\Lcobucci->decode()
#5 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/JWT.php(200): Tymon\\JWTAuth\\Manager->decode()
#6 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/JWT.php(136): Tymon\\JWTAuth\\JWT->getPayload()
#7 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/JWT.php(149): Tymon\\JWTAuth\\JWT->checkOrFail()
#8 /var/www/almacen/backend/vendor/tymon/jwt-auth/src/JWTGuard.php(79): Tymon\\JWTAuth\\JWT->check()
#9 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Auth/GuardHelpers.php(60): Tymon\\JWTAuth\\JWTGuard->user()
#10 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Tymon\\JWTAuth\\JWTGuard->check()
#11 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(42): Illuminate\\Auth\\Middleware\\Authenticate->authenticate()
#12 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#13 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#14 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Routing/Router.php(719): Illuminate\\Pipeline\\Pipeline->then()
#15 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Routing/Router.php(698): Illuminate\\Routing\\Router->runRouteWithinStack()
#16 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRoute()
#17 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Routing/Router.php(651): Illuminate\\Routing\\Router->dispatchToRoute()
#18 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(167): Illuminate\\Routing\\Router->dispatch()
#19 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#20 /var/www/almacen/backend/app/Http/Middleware/Cors.php(19): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#21 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Cors->handle()
#22 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#23 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#24 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle()
#25 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(40): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#27 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle()
#28 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#29 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#30 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(86): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#31 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle()
#32 /var/www/almacen/backend/vendor/fruitcake/laravel-cors/src/HandleCors.php(52): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(39): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Http\\Middleware\\TrustProxies->handle()
#36 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(142): Illuminate\\Pipeline\\Pipeline->then()
#38 /var/www/almacen/backend/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(111): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#39 /var/www/almacen/backend/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle()
#40 {main}
"} 

debian@debian:~$ sudo pkill -9 mysqld
debian@debian:~$ sudo systemctl status mariadb
× mariadb.service
     Loaded: not-found (Reason: Unit mariadb.service not found.)
     Active: failed (Result: exit-code) since Sun 2024-11-24 14:42:41 CET; 45mi>
   Duration: 23h 12min 57.682s
   Main PID: 133424 (code=exited, status=1/FAILURE)
     Status: "MariaDB server is down"
        CPU: 182ms

nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] InnoDB: >
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [Note] InnoDB: S>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Plugin '>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [Note] Plugin 'F>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Could no>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Failed t>
nov 24 14:42:41 debian mariadbd[133424]: 2024-11-24 14:42:41 0 [ERROR] Aborting
nov 24 14:42:41 debian systemd[1]: mariadb.service: Main process exited, code=e>
nov 24 14:42:41 debian systemd[1]: mariadb.service: Failed with result 'exit-co>
nov 24 14:42:41 debian systemd[1]: Failed to start mariadb.service - MariaDB 10>
lines 1-18/18 (END)

Failed to stop mysql.service: Unit mysql.service not loaded.
invoke-rc.d: initscript mysql, action "stop" failed.
Attempt to stop MariaDB/MySQL server returned exitcode 5
There is a MariaDB/MySQL server running, but we failed in our attempts to stop i
t.
Stop it yourself and try again!
dpkg: error al procesar el archivo /var/cache/apt/archives/mariadb-server_1%3a10
.11.6-0+deb12u1_amd64.deb (--unpack):
 el subproceso nuevo paquete mariadb-server script pre-installation devolvió el 
código de salida de error 1
Se encontraron errores al procesar:
 /var/cache/apt/archives/mariadb-server_1%3a10.11.6-0+deb12u1_amd64.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)




sudo apt remove --purge mariadb-server mariadb-client
Установите MariaDB заново:
bash
Копировать код
sudo apt install mariadb-server mariadb-client
После установки попробуйте запустить MariaDB:
bash
Копировать код
sudo systemctl start mariadb
2. Установите зависимости
VS Code требует несколько зависимостей. Установите их:

bash
Копировать код
sudo apt install software-properties-common apt-transport-https wget
3. Добавьте репозиторий Microsoft
Загрузите и установите ключ для репозитория Microsoft:

bash
Копировать код
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | sudo gpg --dearmor > /usr/share/keyrings/microsoft-archive-keyring.gpg
Теперь добавьте репозиторий Microsoft в список источников пакетов:

bash
Копировать код
echo "deb [signed-by=/usr/share/keyrings/microsoft-archive-keyring.gpg] https://packages.microsoft.com/repos/vscode stable main" | sudo tee /etc/apt/sources.list.d/vscode.list
4. Обновите индекс пакетов
После добавления репозитория обновите индекс пакетов:

bash
Копировать код
sudo apt update
5. Установите Visual Studio Code
Теперь установите Visual Studio Code:

bash
Копировать код
sudo apt install code
6. Запуск Visual Studio Code
После установки вы можете запустить VS Code из терминала, набрав:

bash
Копировать код
code
Или найдите его в меню приложений.
bash
Копировать код
sudo systemctl stop mariadb
2.2. Запустите MySQL/MariaDB в безопасном режиме
Запустите MariaDB без проверки паролей и с пропуском всех привилегий:

bash
Копировать код
sudo mysqld_safe --skip-grant-tables &
Команда запустит MariaDB, но без механизма аутентификации, что позволит войти в систему без пароля.

2.3. Вход в MariaDB/MySQL
Теперь войдите в MariaDB:

bash
Копировать код
sudo mysql -u root
Вы окажетесь в консоли MariaDB.

2.4. Измените пароль для пользователя root
Теперь вы можете изменить пароль для пользователя root. Введите следующие команды:

sql
Копировать код
USE mysql;
UPDATE user SET password=PASSWORD('debian') WHERE User='root';
FLUSH PRIVILEGES;
EXIT;
Замените new_password на новый пароль, который вы хотите установить.

2.5. Перезапустите MariaDB
Теперь перезапустите службу MariaDB, чтобы изменения вступили в силу:

bash
Копировать код
sudo systemctl start mariadb
2.6. Войдите в phpMyAdmin
Теперь вы можете войти в phpMyAdmin, используя логин root и новый пароль, который вы только что установили.
